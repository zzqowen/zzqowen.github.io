<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src='./js/stats.min.js'></script>
  <script src="./js/three.min.js"></script>
  <script src="./js/tween.umd.js"></script>
  <script src="js/RequestAnimationFrame.js"></script>
  <script>
    // (function(){var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='//mrdoob.github.io/stats.js/build/stats.min.js';document.head.appendChild(script);})()
  </script>
  <style>
    div#canvas-frame {
      border: 0 none;
      cursor: pointer;
      width: 100%;
      height: 600px;
      background-color: #fefefe;
    }
  </style>
</head>

<body onload="load()">
  <div id="canvas-frame"></div>
  <script>
    var canvasFrame = document.getElementById('canvas-frame');
    var width = canvasFrame.clientWidth;
    var height = canvasFrame.clientHeight;
    var renderer;

    function initThree() {
      renderer = new THREE.WebGLRenderer();
      renderer.setSize(width, height);
      canvasFrame.appendChild(renderer.domElement);
      renderer.setClearColor(0xf3f3f3, 1);
    }

    var scene;

    function initScene() {
      scene = new THREE.Scene();
    }

    var camera;

    function initCamera() {
      camera = new THREE.PerspectiveCamera(100, width / height, 0.1, 10000);
      camera.position.x = 0;
      camera.position.y = 0;
      camera.position.z = 10;
      camera.up.x = 0;
      camera.up.y = 0;
      camera.up.z = 0;
    }

    var light;

    function initLight() {
      light = new THREE.DirectionalLight(0xff0000, 1.0, 0);
      light.position.set(100, 100, 200);
      scene.add(light);
    }

    var cube;

    function initObject() {
      var geometry = new THREE.Geometry();
      geometry.vertices.push(new THREE.Vector3(0, -3, 0));
      geometry.vertices.push(new THREE.Vector3(0, 3, 0));

      for (var i = 0; i <= 20; i++) {

        var line1 = new THREE.Line(geometry, new THREE.LineBasicMaterial({
          color: 0xff0000,
          opacity: 0.2
        }));
        // console.log((i * 0.1) - 0.1)
        line1.position.x = (i * 0.2) - 0.1;
        scene.add(line1);

        var line2 = new THREE.Line(geometry, new THREE.LineBasicMaterial({
          color: 0x000000,
          opacity: 0.2
        }));
        line2.position.y = (i * 0.2) - 0.1;
        line2.rotation.z = 90 * Math.PI / 180;
        scene.add(line2);

      }
    }

    function load() {
      initThree();
      initCamera();
      initScene();
      initLight();
      initObject();
      new TWEEN.Tween( camera.position)
            .to( { z: 1 }, 3000 ).repeat( Infinity ).start();
      animate()
      
    }

    var stats = new Stats();
    document.body.appendChild(stats.dom);
    function animate() {
      // renderer.clear();
      renderer.render(scene, camera);

      requestAnimationFrame(animate)
      stats.update();
      TWEEN.update();

    };
  </script>
</body>

</html>