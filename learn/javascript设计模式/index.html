<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <button id='btn'></button>
  <button id='btn1'></button>
</body>
<script>
  //工厂模式
  var BicycleShop = function(name) {
    this.name = name;
    this.method = function() {
      return this.name;
    }
  };


  BicycleShop.prototype = {
    constructor: BicycleShop,
    sellBicycle: function(model) {
      var bicycle = this.creatBicycle(model);
      bicycle.A();
      bicycle.B();
      return bicycle;
    },
    createBicycle: function(model) {
      throw new Error('父类不是抽象类不能直接调用， 需要子类重写该方法')
    }
  }

  function extend(Sub, Sup) {
    var F = function() {};
    F.prototype = Sup.prototype;
    Sub.prototype = new F();
    Sub.prototype.constructor = Sub;
    Sub.sup = Sup.prototype;

    if (Sup.prototype.constructor === Object.prototype.constructor) {
      Sup.prototype.constructor = Sup;
    }

  }

  var BicycleChild = function(name){
        //this.name = name;
// 继承构造函数父类中的属性和方法
        BicycleShop.call(this,name);
    };
    // 子类继承父类原型方法
    extend(BicycleChild,BicycleShop);

  BicycleChild.prototype.createBicycle = function(){
      var A = function(){
          console.log("执行A业务操作");    
      };
      var B = function(){
          console.log("执行B业务操作");
      };
      return {
          A: A,
          B: B
      }
  }
  var childClass = new BicycleChild("龙恩");
  console.log(childClass, childClass.createBicycle(), childClass.method());


  // 创建div
var createWindow = function(){
    var div = document.createElement("div");
    div.innerHTML = "我是弹窗内容";
    div.style.display = 'none';
    document.body.appendChild(div);
    return div;
};
// 创建iframe
var createIframe = function(){
    var iframe = document.createElement("iframe");
    document.body.appendChild(iframe);
    return iframe;
};
// 获取实例的封装代码
var getInstance = function(fn) {
    var result;
    return function(){
        return result || (result = fn.call(this,arguments));
    }
};
// 测试创建div
var createSingleDiv = getInstance(createWindow);
document.getElementById("btn").onclick = function(){
    var win = createSingleDiv();
    win.style.display = "block";
};
// 测试创建iframe
var createSingleIframe = getInstance(createIframe);
document.getElementById("btn1").onclick = function(){
    var win = createSingleIframe();
    win.src = "http://cnblogs.com";
};

</script>
</html>